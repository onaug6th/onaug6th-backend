{"version":3,"sources":["webpack:///src/components/ArticleManage.vue","webpack:///./src/components/ArticleManage.vue","webpack:///./src/components/ArticleManage.vue?92ee"],"names":["ArticleManage","superOperate","superTable","setTableConfig","setOperateConfig","getArticleList","_this","this","h","deleteArticle","tableConfig","path","item","data","id","formData","then","result","_this2","currentPage","pageSize","rows","totalPages","_this3","checkedData","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","size","_m","config","operateConfig","ref","on","pageChange","staticStyle","color","__webpack_exports__"],"mappings":"kIA6BAA,mBAEA,4BAEAC,eAAA,EAEAC,aAAA,oFAQAC,sBACAC,wBACAC,iEAOA,IAAAC,EAAAC,qDAEA,iBACA,oBAGA,WAEA,eAEA,aAEA,iBAEA,cAEA,eAEA,cAEA,eAEA,aAEA,cAEA,aAEA,aAEA,gBACA,6BAEA,OAAAC,EACA,cACA,gBACA,wDAEA,qDAUA,cACA,iBACA,WACA,cAGA,iEAOA,gBACA,mBAGA,gCAGAC,2BAQAC,6DAQAC,KAAA,8BAIAC,uCAQAL,cACAM,OACA,SAEA,2CAEAC,iBACAC,GAAAC,KAAA,SAAAC,mCAEA,mBACA,IACAZ,8CAMA,IAAAa,EAAAX,qBAEA,sBACA,8CAEAY,iDACAC,cAEA,WAPAJ,KAAA,SAAAC,6BASAI,gDACAC,wCAQA,IAAAC,EAAAhB,oEAEA,4CAOAiB,KAJAR,KAAA,SAAAC,gCAMA,aACAZ,mCC3LA,IAEAoB,EAXA,SAAAC,GACAC,EAAA,SAgBAC,EAAAC,OAAAC,EAAA,EAAAD,CACA7B,EClBA,WAA0B,IAAA+B,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,KAAyBE,YAAA,oBAA8BL,EAAAM,GAAA,aAAAH,EAAA,MAAAH,EAAAM,GAAA,KAAAH,EAAA,QAAsDI,OAAOC,KAAA,OAAYR,EAAAM,GAAA,qBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAoDE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,YAAsBL,EAAAS,GAAA,GAAAT,EAAAM,GAAA,KAAAH,EAAA,OAAAA,EAAA,gBAAqDI,OAAOG,OAAAV,EAAAW,iBAA4BX,EAAAM,GAAA,KAAAH,EAAA,cAA+BS,IAAA,aAAAL,OAAwBG,OAAAV,EAAArB,aAAyBkC,IAAKC,WAAAd,EAAA1B,mBAAiC,aACnjB,WAAoC,IAAa2B,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,UAAAU,aAAmCC,MAAA,aAAmBb,EAAA,KAAUE,YAAA,6BAAxL7B,KAA+N8B,GAAA,KAAAH,EAAA,QAA/N3B,KAA+N8B,GAAA,mBDQnQ,EAaAZ,EATA,kBAEA,MAYAuB,EAAA,QAAApB,EAAA","file":"static/js/12.58dc10f1e3a3e1d99be8.js","sourcesContent":["<template>\n    <div>\n        <p class=\"alert top-alert\">管理你的文章，蠢货<br />\n            <font size=\"1\">货蠢，类分章文的你理管</font>\n        </p>\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"portlet\">\n                    <div class=\"portlet-title\">\n                        <div class=\"caption\" style=\"color:#32c5d2;\">\n                            <i class=\"glyphicon glyphicon-user\"></i>\n                            <span> 文章管理 </span>\n                        </div>\n                    </div>\n                    <div>\n                        <superOperate :config=\"operateConfig\"></superOperate>\n                        <superTable ref=\"superTable\" :config=\"tableConfig\" @pageChange=\"getArticleList\"></superTable>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport superOperate from \"../components/common-component/superOperate.vue\";\nimport superTable from \"../components/common-component/superTable.vue\";\nimport { articleTypeList } from \"../api/articleType.js\";\n\nexport default {\n    name: 'articleManage',\n    components: {\n        superOperate,\n        superTable\n    },\n    data(){\n        return {\n            tableConfig : {},\n            operateConfig : {}\n        }\n    },\n    mounted(){\n        this.setTableConfig();\n        this.setOperateConfig();\n        this.getArticleList();\n    },\n    computed:{\n\n    },\n    methods : {\n        //  设置超级表格组件配置\n        setTableConfig(){\n            this.tableConfig = {\n                checkbox : true,\n                clickToSelect : true,\n                colOption : [\n                    {\n                        field : \"id\",\n                        label : \"文章ID\"\n                    },\n                    {\n                        field : \"type\",\n                        label : \"文章所属类型\"\n                    },\n                    {\n                        field : \"title\",\n                        label : \"文章标题\"\n                    },\n                    {\n                        field : \"bgUrl\",\n                        label : \"背景图片\"\n                    },\n                    {\n                        field : \"read\",\n                        label : \"阅读量\"\n                    },\n                    {\n                        field : \"like\",\n                        label : \"点赞\"\n                    },\n                    {\n                        field : \"operate\",\n                        label : \"操作\",\n                        jsxRender: (h, params) =>{\n                            return (\n                                <div>\n                                    <button \n                                        class=\"btn btn-primary\" \n                                        onClick={() => {\n                                            this.openEdit(params.row, \"edit\");\n                                        }}\n                                        >编辑</button>\n                                </div>\n                            )\n                        }\n                    }\n                ],\n                data : [],\n                pagination : {\n                    prevText : \"前页\",\n                    nextText : \"后页\",\n                    currentPage : 1,\n                    pageSize : 10,\n                    totalPages : 0\n                }\n            }\n        },\n        //  设置操作区域组件配置\n        setOperateConfig(){\n            this.operateConfig = {\n                list : [\n                    {\n                        type : \"dropdown\",\n                        text : \"删除操作\",\n                        list : [\n                            {\n                                text : \"删除文章\",\n                                events : {\n                                    onClick : {\n                                        fn : this.deleteArticle,\n                                        params : [this.tableConfig]\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        },\n        /**\n         * 打开编辑页面\n         * @param {object} item 行对象\n         */\n        openEdit(item){\n            this.$router.push({\n                path : `/articleEdit`,\n                query : {\n                    article : item\n                }\n            });\n        },\n        /**\n         * 通用操作，处理模态框新增和编辑动作\n         * @param {object} modalConfig 模态框配置\n         * @param {string} type 类型\n         */\n        commonHandle(modalConfig, type){\n            const that = this;\n            const formData = modalConfig.form.data;\n            let method = \"post\"\n            let url = \"articleType\";\n\n            type == \"edit\" && (method = \"put\", url += `/${formData.id}`);\n\n            that.$http[method](url, formData)\n                .then( (result) =>{\n                    that.$swal(\"不知道什么操作成功\", result.detailMsg, \"success\");\n                    modalConfig.show = false;\n                    that.getArticleList();\n                });\n\n        },\n        //  获取文章类型列表\n        getArticleList(){\n            \n            this.$http({\n                url: 'article/list',\n                method: 'post',\n                data : {\n                    page : this.tableConfig.pagination.currentPage,\n                    pageSize : this.tableConfig.pagination.pageSize,\n                    type : \"admin\"\n                }\n            }).then((result) =>{\n                    this.tableConfig.data = result.data.rows;\n                    this.tableConfig.pagination.totalPages = result.data.totalPages\n                });\n\n        },\n        /**\n         * 删除文章\n         * @param {object} item 组件传回来的我也忘了是啥\n         */\n        deleteArticle(item){\n            const checkedData = this.$refs.superTable.checkedData.map((item, index)=>{\n                return item[\"id\"]\n            });\n\n            this.$http.delete(\"article\", {\n                    data : {\n                        arr : checkedData\n                    }\n                })\n                .then( (result) =>{\n                    this.$swal(\"删除文章成功\", result.detailMsg, \"success\");\n                    this.getArticleList();\n                });\n                \n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .top-alert {\n        background: #f5f8fd;\n        color: #010407;\n        border-left: 5px solid #8bb4e7;\n    }\n    .portlet{\n        padding: 12px 20px 15px;\n        background-color: #fff;\n        border-radius: 5px;height: 400px;\n    }\n    .portlet .portlet-title{\n        padding: 0;\n        min-height: 48px;\n        border-bottom: 1px solid #eef1f5;\n        margin-bottom: 10px;\n        overflow: hidden;\n    }\n    .portlet .caption{\n        padding: 10px 0;\n        float: left;\n        display: inline-block;\n        font-size: 16px;\n        line-height: 18px;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ArticleManage.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32dac444\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ArticleManage.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleManage.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32dac444\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticleManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32dac444\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ArticleManage.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"alert top-alert\"},[_vm._v(\"管理你的文章，蠢货\"),_c('br'),_vm._v(\" \"),_c('font',{attrs:{\"size\":\"1\"}},[_vm._v(\"货蠢，类分章文的你理管\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"portlet\"},[_vm._m(0),_vm._v(\" \"),_c('div',[_c('superOperate',{attrs:{\"config\":_vm.operateConfig}}),_vm._v(\" \"),_c('superTable',{ref:\"superTable\",attrs:{\"config\":_vm.tableConfig},on:{\"pageChange\":_vm.getArticleList}})],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"portlet-title\"},[_c('div',{staticClass:\"caption\",staticStyle:{\"color\":\"#32c5d2\"}},[_c('i',{staticClass:\"glyphicon glyphicon-user\"}),_vm._v(\" \"),_c('span',[_vm._v(\" 文章管理 \")])])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32dac444\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ArticleManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}