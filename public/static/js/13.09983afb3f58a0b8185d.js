webpackJsonp([13],{"1Met":function(e,t){},lT14:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("LGSi"),l=a("2oyB"),n=a("SlfL"),o=(a("jOTz"),{name:"articleInsideReplyManage",components:{superOperate:i.a,superTable:l.a,superModal:n.a},data:function(){return{tableConfig:{},operateConfig:{},modalConfig:{}}},mounted:function(){this.setTableConfig(),this.setOperateConfig(),this.setModalConfig(),this.getInsideReplyList()},computed:{},methods:{setTableConfig:function(){var e=this;this.$createElement;this.tableConfig={checkbox:!0,clickToSelect:!0,colOption:[{field:"id",label:"楼中楼回复ID"},{field:"floorId",label:"所属楼层"},{field:"replyId",label:"回复目标的ID"},{field:"replyName",label:"回复目标的名称"},{field:"ip",label:"回复人ip"},{field:"name",label:"回复人名称"},{field:"email",label:"回复人邮箱"},{field:"avatar",label:"回复人头像"},{field:"content",label:"回复内容"},{field:"reply",label:"回复次数"},{field:"like",label:"点赞"},{field:"show",label:"是否显示"},{field:"operate",label:"操作",jsxRender:function(t,a){return t("div",null,[t("button",{class:"btn btn-primary",on:{click:function(){e.openModal(a.row)}}},["编辑"])])}}],data:[],pagination:{prevText:"前页",nextText:"后页",currentPage:1,pageSize:10,totalPages:0}}},setOperateConfig:function(){this.operateConfig={list:[{type:"dropdown",text:"删除操作",list:[{text:"删除文章回复",events:{onClick:{fn:this.deleteArticleReply,params:[this.tableConfig]}}}]}]}},setModalConfig:function(){this.modalConfig={title:"编辑文章回复",backdrop:"static",form:{config:[{labelText:"楼中楼回复ID",field:"id",type:"text"},{labelText:"所属楼层",field:"floorId",type:"text"},{labelText:"回复的文章的ID",field:"replyId",type:"text"},{labelText:"回复目标的名称",field:"replyName",type:"text"},{labelText:"回复人IP",field:"ip",type:"text"},{labelText:"回复人名称",field:"name",type:"text"},{labelText:"回复人邮箱",field:"email",type:"text"},{labelText:"回复人头像",field:"avatar",type:"text"},{labelText:"回复内容",field:"content",type:"text"},{labelText:"回复次数",field:"reply",type:"text"},{labelText:"点赞",field:"like",type:"text"},{labelText:"是否显示",field:"show",type:"text"}],data:{id:"",floorId:"",replyId:"",replyName:"",ip:"",name:"",email:"",avatar:"",content:"",reply:"",like:"",show:""}},footer:{textalign:"center",btnList:[{id:"edit",show:!0,type:"primary",text:"修改",events:{onClick:{fn:this.commonHandle,params:["edit"]}}}]},show:!1}},openModal:function(e){var t=this.modalConfig;for(var a in e)t.form.data[a]=e[a];t.show=!0},commonHandle:function(e,t){var a=this,i=e.form.data,l="post",n="insideReply";"edit"==t&&(l="put",n+="/"+i.id),a.$http[l](n,i).then(function(t){a.$swal("不知道做了什么操作，反正就是成功了",t.detailMsg,"success"),e.show=!1,a.getInsideReplyList()})},getInsideReplyList:function(){var e=this;this.$http({url:"insideReply/list",method:"post",data:{page:this.tableConfig.pagination.currentPage,pageSize:this.tableConfig.pagination.pageSize,type:"admin"}}).then(function(t){e.tableConfig.data=t.data.rows,e.tableConfig.pagination.totalPages=t.data.totalPages})},deleteArticleReply:function(e){var t=this,a=this.$refs.superTable.checkedData.map(function(e,t){return e.id});this.$http.delete("article",{data:{arr:a}}).then(function(e){t.$swal("删除文章成功","","success"),t.getInsideReplyList()})}}}),s=a("XyMi");var r=function(e){a("1Met")},d=Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"alert top-alert"},[e._v("管理你的文章楼中楼回复，蠢货"),a("br"),e._v(" "),a("font",{attrs:{size:"1"}},[e._v("货蠢，回复楼中楼文章的你理管")])],1),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"portlet"},[e._m(0),e._v(" "),a("div",[a("superOperate",{attrs:{config:e.operateConfig}}),e._v(" "),a("superTable",{ref:"superTable",attrs:{config:e.tableConfig},on:{pageChange:e.getInsideReplyList}})],1)])])]),e._v(" "),a("superModal",{attrs:{config:e.modalConfig}})],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"portlet-title"},[t("div",{staticClass:"caption",staticStyle:{color:"#32c5d2"}},[t("i",{staticClass:"glyphicon glyphicon-user"}),this._v(" "),t("span",[this._v(" 文章楼中楼回复管理 ")])])])}],!1,r,"data-v-4c6c6f6a",null);t.default=d.exports}});
//# sourceMappingURL=13.09983afb3f58a0b8185d.js.map