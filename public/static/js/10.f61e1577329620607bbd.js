webpackJsonp([10],{qgYi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("LGSi"),l=a("2oyB"),n=a("SlfL"),o=(a("jOTz"),{name:"articleReplyManage",components:{superOperate:i.a,superTable:l.a,superModal:n.a},data:function(){return{tableConfig:{},operateConfig:{},modalConfig:{}}},mounted:function(){this.setTableConfig(),this.setOperateConfig(),this.setModalConfig(),this.getReplyList()},computed:{},methods:{setTableConfig:function(){var t=this;this.$createElement;this.tableConfig={checkbox:!0,clickToSelect:!0,colOption:[{field:"id",label:"文章回复ID"},{field:"floor",label:"所属楼层"},{field:"articleId",label:"回复的文章的ID"},{field:"ip",label:"回复人IP"},{field:"name",label:"回复人名称"},{field:"avatar",label:"回复人头像"},{field:"content",label:"回复内容"},{field:"reply",label:"回复次数"},{field:"like",label:"点赞"},{field:"show",label:"是否显示"},{field:"operate",label:"操作",jsxRender:function(e,a){return e("div",null,[e("button",{class:"btn btn-primary",on:{click:function(){t.openModal(a.row)}}},["编辑"])])}}],data:[],pagination:{prevText:"前页",nextText:"后页",currentPage:1,pageSize:10,totalPages:0}}},setOperateConfig:function(){this.operateConfig={list:[{type:"dropdown",text:"删除操作",list:[{text:"删除文章回复",events:{onClick:{fn:this.deleteArticleReply,params:[this.tableConfig]}}}]}]}},setModalConfig:function(){this.modalConfig={title:"编辑文章回复",backdrop:"static",form:{config:[{labelText:"所属楼层",field:"floor",type:"text"},{labelText:"回复的文章的ID",field:"articleId",type:"text"},{labelText:"回复人IP",field:"ip",type:"text"},{labelText:"回复人名称",field:"name",type:"text"},{labelText:"回复人头像",field:"avatar",type:"text"},{labelText:"回复内容",field:"content",type:"text"},{labelText:"回复次数",field:"reply",type:"text"},{labelText:"点赞",field:"like",type:"text"},{labelText:"是否显示",field:"show",type:"text"}],data:{floor:"",articleId:"",ip:"",name:"",avatar:"",content:"",reply:"",like:"",show:""}},footer:{textalign:"center",btnList:[{id:"edit",show:!0,type:"primary",text:"修改",events:{onClick:{fn:this.commonHandle,params:["edit"]}}}]},show:!1}},openModal:function(t){var e=this.modalConfig;for(var a in t)e.form.data[a]=t[a];e.show=!0},commonHandle:function(t,e){var a=this,i=t.form.data,l="post",n="reply";"edit"==e&&(l="put",n+="/"+i.id),a.$http[l](n,i).then(function(e){a.$swal(e.detailMsg,"","success"),t.show=!1,a.getReplyList()})},getReplyList:function(){var t=this;this.$http({url:"reply/list",method:"post",data:{page:this.tableConfig.pagination.currentPage,pageSize:this.tableConfig.pagination.pageSize,type:"admin"}}).then(function(e){t.tableConfig.data=e.data.rows,t.tableConfig.pagination.totalPages=e.data.totalPages})},deleteArticleReply:function(t){var e=this,a=this.$refs.superTable.checkedData.map(function(t,e){return t.id});this.$http.delete("article",{data:{arr:a}}).then(function(t){that.$swal("删除文章成功","","success"),e.getReplyList()})}}}),s=a("XyMi");var r=function(t){a("qqiq")},c=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"alert top-alert"},[t._v("管理你的文章回复，蠢货"),a("br"),t._v(" "),a("font",{attrs:{size:"1"}},[t._v("货蠢，回复文章的你理管")])],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"portlet"},[t._m(0),t._v(" "),a("div",[a("superOperate",{attrs:{config:t.operateConfig}}),t._v(" "),a("superTable",{ref:"superTable",attrs:{config:t.tableConfig},on:{pageChange:t.getReplyList}})],1)])])]),t._v(" "),a("superModal",{attrs:{config:t.modalConfig}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"portlet-title"},[e("div",{staticClass:"caption",staticStyle:{color:"#32c5d2"}},[e("i",{staticClass:"glyphicon glyphicon-user"}),this._v(" "),e("span",[this._v(" 文章回复管理 ")])])])}],!1,r,"data-v-adc74d9a",null);e.default=c.exports},qqiq:function(t,e){}});
//# sourceMappingURL=10.f61e1577329620607bbd.js.map