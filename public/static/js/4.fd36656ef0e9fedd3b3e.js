webpackJsonp([4],{H8HU:function(t,e){},j7e0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"home",components:{pagination:i("eKp+").a},data:function(){return{articleType:"",paginationConfig:{},profileFiexd:!1,contentLeftRef:{},profileRef:{},articleList:[]}},computed:{typeList:function(){return this.$store.state.articleTypeList}},mounted:function(){this.contentLeftRef=this.$refs.contentLeft,this.profileRef=this.$refs.profile,window.addEventListener("scroll",this.handleScroll),this.getUrlQuery(),this.setPagination(),this.getArticleList()},methods:{fliterTypeName:function(t){return this.typeList.filter(function(e){if(e.id==t)return e.name})[0].name},handleScroll:function(){if("home"===this.$route.name){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=document.body.clientWidth,i=this.contentLeftRef.clientWidth;t>300&&e>1200?(this.profileRef.style.width=i-30+"px",this.profileFiexd=!0):this.profileFiexd=!1}},switchType:function(t){var e=this.paginationConfig,i={page:e.page,pageSize:e.pageSize};this.articleType==t.id?this.articleType="":(this.articleType=t.id,i.type=this.articleType),this.$router.push({query:i}),this.getArticleList()},getUrlQuery:function(){var t=this.$route.query,e=this.paginationConfig;t.page&&(e.page=+t.page),t.pageSize&&(e.pageSize=+t.pageSize),t.type&&(this.articleType=t.type)},setPagination:function(){this.paginationConfig={page:1,pageSize:10,prevText:"ÂâçÈ°µ",nextText:"ÂêéÈ°µ",currentPage:1,totalPages:0}},getArticleList:function(){var t=this,e=t.paginationConfig,i={page:e.page,pageSize:e.pageSize,exclude:["content"]};this.articleType&&(i.where={type:this.articleType}),t.$http.post("article/list",i).then(function(e){0==e.code&&(t.paginationConfig.totalPages=e.data.totalPages,t.articleList=e.data.rows)})},readDetail:function(t){var e=this;this.$http.put("article/read/"+t).then(function(i){e.$router.push({path:"/article/"+t})})},pageChange:function(t){var e=this.paginationConfig;e.page=t,this.$router.push({query:{page:t,pageSize:e.pageSize,type:this.articleType}}),this.getArticleList()}}},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"home-bg"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("h1",{staticStyle:{"font-weight":"300"}},[this._v("ÂÉèÊàëËøôÊ†∑ÁöÑ‰∫∫")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"info"},[e("img",{staticClass:"avatar img-rounded",attrs:{src:i("rP9S"),alt:"avatar"}}),this._v(" "),e("span",{staticClass:"name"},[this._v("August Yang")]),this._v(" "),e("span",{staticClass:"intro"},[this._v("Ëá™Ë®ÄËá™ËØ≠Â∑•Á®ãÂ∏à")])])}],n=i("XyMi");var r=function(t){i("H8HU")},l=Object(n.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t._m(0),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"row content"},[i("div",{ref:"contentLeft",staticClass:"col-lg-3 col-lg-offset-1"},[i("div",{ref:"profile",staticClass:"profile",class:{"profile-fiexd":t.profileFiexd}},[i("h5",[t._v("Êàë üè∑Ô∏è")]),t._v(" "),i("hr"),t._v(" "),t._m(1),t._v(" "),i("h5",[t._v("Ê†áÁ≠æ üè∑Ô∏è")]),t._v(" "),i("hr"),t._v(" "),i("section",{staticClass:"tags"},t._l(t.typeList,function(e,a){return i("a",{key:a,class:{active:t.articleType==e.id},attrs:{title:e.name},on:{click:function(i){t.switchType(e)}}},[t._v(t._s(e.name))])}))])]),t._v(" "),i("div",{staticClass:"col-lg-8"},[t._l(t.articleList,function(e,a){return i("div",{key:a},[[i("div",{staticClass:"article-box col-sm-12 clearfix"},[e.bgUrl?[i("div",{staticClass:"article-pic row",style:{"background-image":"url("+e.bgUrl+")"}},[i("span",{staticClass:"type"},[t._v("#"+t._s(t.fliterTypeName(e.type)))]),t._v(" "),i("h3",{staticClass:"title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),i("h5",{staticClass:"intro",attrs:{title:e.intro}},[t._v(t._s(e.intro))])])]:[i("div",{staticClass:"article-content row"},[i("span",{staticClass:"type"},[t._v("#"+t._s(t.fliterTypeName(e.type)))]),t._v(" "),i("h3",{staticClass:"title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),i("h5",{staticClass:"intro",attrs:{title:e.intro}},[t._v(t._s(e.intro))])])],t._v(" "),i("div",{staticClass:"article-info"},[i("hr"),t._v(" "),i("p",[t._v("\n                                "+t._s(e.createdAt)+"\n                                    "),i("button",{staticClass:"btn btn-default pull-left",on:{click:function(i){t.readDetail(e.id)}}},[t._v("Read Detail")])]),t._v(" "),i("p",{staticClass:"read"},[t._v("ÈòÖËØª "+t._s(e.read)+"  Ëµû "+t._s(e.like))])])],2)]],2)}),t._v(" "),t.articleList.length?t._e():i("div",[i("h1",[t._v("ÊöÇÊó†ÊñáÁ´†")])]),t._v(" "),i("div",{staticClass:"col-sm-12"},[i("pagination",{attrs:{config:t.paginationConfig},on:{pageChange:t.pageChange}})],1)],2)])])])},s,!1,r,"data-v-022241ac",null);e.default=l.exports},rP9S:function(t,e,i){t.exports=i.p+"static/img/avatar.1395615.jpg"}});
//# sourceMappingURL=4.fd36656ef0e9fedd3b3e.js.map