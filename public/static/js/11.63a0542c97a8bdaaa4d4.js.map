{"version":3,"sources":["webpack:///src/components/ArticlePictureManage.vue","webpack:///./src/components/ArticlePictureManage.vue","webpack:///./src/components/ArticlePictureManage.vue?e8eb"],"names":["ArticlePictureManage","superOperate","superTable","superModal","setTableConfig","setOperateConfig","setModalConfig","getArticleTypeList","_this","this","h","openModal","deletePicture","tableConfig","commonHandle","modalConfig","footer","i","data","id","formData","then","result","_this2","currentPage","pageSize","rows","totalPages","_this3","checkedData","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","size","_m","config","operateConfig","ref","staticStyle","color","__webpack_exports__"],"mappings":"8IA+BAA,mBAEA,mCAEAC,eAAA,EACAC,aAAA,EAEAC,aAAA,mGASAC,sBACAC,wBACAC,sBACAC,qEAOA,IAAAC,EAAAC,qDAEA,iBACA,oBAGA,WAEA,eAEA,kBAEA,mBAEA,aAEA,eAEA,aAEA,eAEA,gBACA,6BAEA,OAAAC,EACA,cACA,gBACA,yDAEA,qDAUA,cACA,iBACA,WACA,cAGA,iEAOA,cACA,gCAGAC,kBAIA,gBAEA,gBACA,mBAGA,gCAGAC,2BAQAC,uEAKA,gBACA,kCAIA,aACA,YAGA,oBAIA,uBAEA,sBAGA,YACA,OACA,eACA,8BAGAC,qBAIA,cAEA,aACA,OACA,eACA,8BAGAA,qBAMA,mBAEA,uCASAC,gBAEAC,oDAGAC,gDAIA,6DAMA,YAGA,oCAQAR,cACAS,OACA,SAEA,2CAEAC,iBACAC,GAAAC,KAAA,SAAAC,0BAEA,mBACA,IACAf,sDAMA,IAAAgB,EAAAd,qBAEA,6BACA,8CAEAe,iDAEAC,YANAJ,KAAA,SAAAC,6BAQAI,gDACAC,wCASA,IAAAC,EAAAnB,oEAEA,mDAOAoB,KAJAR,KAAA,SAAAC,yBAMA,aACAf,uCClQA,IAEAuB,EAXA,SAAAC,GACAC,EAAA,SAgBAC,EAAAC,OAAAC,EAAA,EAAAD,CACAlC,EClBA,WAA0B,IAAAoC,EAAA3B,KAAa4B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,KAAyBE,YAAA,oBAA8BL,EAAAM,GAAA,eAAAH,EAAA,MAAAH,EAAAM,GAAA,KAAAH,EAAA,QAAwDI,OAAOC,KAAA,OAAYR,EAAAM,GAAA,qBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAoDE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,YAAsBL,EAAAS,GAAA,GAAAT,EAAAM,GAAA,KAAAH,EAAA,OAAAA,EAAA,gBAAqDI,OAAOG,OAAAV,EAAAW,iBAA4BX,EAAAM,GAAA,KAAAH,EAAA,cAA+BS,IAAA,aAAAL,OAAwBG,OAAAV,EAAAvB,gBAA0B,SAAAuB,EAAAM,GAAA,KAAAH,EAAA,cAAyCI,OAAOG,OAAAV,EAAArB,gBAA0B,KAC1lB,WAAoC,IAAasB,EAAb5B,KAAa6B,eAA0BC,EAAvC9B,KAAuC+B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,UAAAQ,aAAmCC,MAAA,aAAmBX,EAAA,KAAUE,YAAA,6BAAxLhC,KAA+NiC,GAAA,KAAAH,EAAA,QAA/N9B,KAA+NiC,GAAA,qBDQnQ,EAaAZ,EATA,kBAEA,MAYAqB,EAAA,QAAAlB,EAAA","file":"static/js/11.63a0542c97a8bdaaa4d4.js","sourcesContent":["<template>\n    <div>\n        <p class=\"alert top-alert\">管理你的文章分类，蠢货<br />\n            <font size=\"1\">货蠢，类分章文的你理管</font>\n        </p>\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"portlet\">\n                    <div class=\"portlet-title\">\n                        <div class=\"caption\" style=\"color:#32c5d2;\">\n                            <i class=\"glyphicon glyphicon-user\"></i>\n                            <span> 文章图片管理 </span>\n                        </div>\n                    </div>\n                    <div>\n                        <superOperate :config=\"operateConfig\"></superOperate>\n                        <superTable ref=\"superTable\" :config=\"tableConfig\"></superTable>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <superModal :config=\"modalConfig\"></superModal>\n    </div>\n</template>\n\n<script>\nimport superOperate from \"../components/common-component/superOperate.vue\";\nimport superTable from \"../components/common-component/superTable.vue\";\nimport superModal from \"../components/common-component/superModal.vue\";\nimport { articleTypeList } from \"../api/articleType.js\";\n\nexport default {\n    name: 'articlePictureManage',\n    components: {\n        superOperate,\n        superTable,\n        superModal\n    },\n    data(){\n        return {\n            tableConfig : {},\n            operateConfig : {},\n            modalConfig : {}\n        }\n    },\n    mounted(){\n        this.setTableConfig();\n        this.setOperateConfig();\n        this.setModalConfig();\n        this.getArticleTypeList();\n    },\n    computed:{\n\n    },\n    methods : {\n        //  设置超级表格组件配置\n        setTableConfig(){\n            this.tableConfig = {\n                checkbox : true,\n                clickToSelect : true,\n                colOption : [\n                    {\n                        field : \"id\",\n                        label : \"图片ID\"\n                    },\n                    {\n                        field : \"articleId\",\n                        label : \"图片所属文章id\"\n                    },\n                    {\n                        field : \"path\",\n                        label : \"图片路径\"\n                    },\n                    {\n                        field : \"type\",\n                        label : \"图片类型\"\n                    },\n                    {\n                        field : \"operate\",\n                        label : \"操作\",\n                        jsxRender: (h, params) =>{\n                            return (\n                                <div>\n                                    <button \n                                        class=\"btn btn-primary\" \n                                        onClick={() => {\n                                            this.openModal(params.row, \"edit\");\n                                        }}\n                                        >编辑</button>\n                                </div>\n                            )\n                        }\n                    }\n                ],\n                data : [],\n                pagination : {\n                    prevText : \"前页\",\n                    nextText : \"后页\",\n                    currentPage : 1,\n                    pageSize : 10,\n                    totalPages : 0\n                }\n            }\n        },\n        //  设置操作区域组件配置\n        setOperateConfig(){\n            this.operateConfig = {\n                list : [\n                    {\n                        type : \"button\",\n                        text : \"新增图片\",\n                        events : {\n                            onClick : {\n                                fn : this.openModal,\n                                params : [\"add\"]\n                            }\n                        }\n                    },\n                    {\n                        type : \"dropdown\",\n                        text : \"删除操作\",\n                        list : [\n                            {\n                                text : \"删除图片\",\n                                events : {\n                                    onClick : {\n                                        fn : this.deletePicture,\n                                        params : [this.tableConfig]\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        },\n        //  设置超级模态框组件配置\n        setModalConfig(){\n            this.modalConfig = {\n                title : \"添加分类\",\n                backdrop : \"static\",\n                form : {\n                    config : [\n                        {\n                            labelText : \"分类名称\",\n                            field : \"name\",\n                            type : \"text\"\n                        }\n                    ],\n                    data : {\n                        name : \"\"\n                    }\n                },\n                footer: {\n                    textalign : \"center\",\n                    btnList : [\n                        {\n                            id : \"add\",\n                            show : true,\n                            type : \"primary\",\n                            text : \"新增\",\n                            events : {\n                                onClick : {\n                                    fn : this.commonHandle,\n                                    params : [\"add\"]\n                                }\n                            }\n                        },\n                        {\n                            id : \"edit\",\n                            show : true,\n                            type : \"primary\",\n                            text : \"修改\",\n                            events : {\n                                onClick : {\n                                    fn : this.commonHandle,\n                                    params : [\"edit\"]\n                                }\n                            }\n                        }\n                    ]\n                },\n                show : false\n            }\n        },\n        /**\n         * 打开超级模态框\n         * @param {object} item 忘了，是自己写的模态框组件里传回来的，反正很多数据在里面。\n         * @param {string} type 类型\n         */\n        openModal(item, type){\n            \n            const modal = this.modalConfig;\n            const footer = modal.footer;\n            \n            if(type == \"edit\"){\n                for(let i in item){\n                    (modal.form.data[i] = item[i]);\n                }\n            }else{\n                for(let i in modal.form.data){\n                    modal.form.data[i] = \"\";\n                }\n            }\n\n            footer.btnList.forEach((btn, index)=>{\n                btn.id == type ? (btn.show = true) : (btn.show = false);\n\n            });\n\n            modal.show = true;\n        },\n        /**\n         * 通用操作，处理模态框新增和编辑动作\n         * @param {object} modalConfig 模态框配置\n         * @param {string} type 类型\n         */\n        commonHandle(modalConfig, type){\n            const that = this;\n            const formData = modalConfig.form.data;\n            let method = \"post\"\n            let url = \"articleType\";\n\n            type == \"edit\" && (method = \"put\", url += `/${formData.id}`);\n\n            that.$http[method](url, formData)\n                .then( (result) =>{\n                    that.$swal(\"\", result.detailMsg, \"success\");\n                    modalConfig.show = false;\n                    that.getArticleTypeList();\n                });\n\n        },\n        //  获取文章类型列表\n        getArticleTypeList(){\n\n            this.$http({\n                url: 'articlePicture/list',\n                method: 'post',\n                data : {\n                    page : this.tableConfig.pagination.currentPage,\n                    pageSize : this.tableConfig.pagination.pageSize\n                }\n            }).then((result) =>{\n                    this.tableConfig.data = result.data.rows;\n                    this.tableConfig.pagination.totalPages = result.data.totalPages\n                });\n\n        },\n        /**\n         * 删除文章图片\n         * @param {object} item 组件传回来的我也忘了是啥\n         */\n        deletePicture(item){\n            \n            const checkedData = this.$refs.superTable.checkedData.map((item, index)=>{\n                return item[\"id\"]\n            });\n\n            this.$http.delete(\"articlePicture\", {\n                    data : {\n                        arr : checkedData\n                    }\n                })\n                .then( (result) =>{\n                    this.$swal(\"删除文章图片成功\", \"\", \"success\");\n                    this.getArticleTypeList();\n                });\n                \n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .top-alert {\n        background: #f5f8fd;\n        color: #010407;\n        border-left: 5px solid #8bb4e7;\n    }\n    .portlet{\n        padding: 12px 20px 15px;\n        background-color: #fff;\n        border-radius: 5px;height: 400px;\n    }\n    .portlet .portlet-title{\n        padding: 0;\n        min-height: 48px;\n        border-bottom: 1px solid #eef1f5;\n        margin-bottom: 10px;\n        overflow: hidden;\n    }\n    .portlet .caption{\n        padding: 10px 0;\n        float: left;\n        display: inline-block;\n        font-size: 16px;\n        line-height: 18px;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ArticlePictureManage.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c42e352\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ArticlePictureManage.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticlePictureManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticlePictureManage.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c42e352\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticlePictureManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c42e352\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ArticlePictureManage.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"alert top-alert\"},[_vm._v(\"管理你的文章分类，蠢货\"),_c('br'),_vm._v(\" \"),_c('font',{attrs:{\"size\":\"1\"}},[_vm._v(\"货蠢，类分章文的你理管\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"portlet\"},[_vm._m(0),_vm._v(\" \"),_c('div',[_c('superOperate',{attrs:{\"config\":_vm.operateConfig}}),_vm._v(\" \"),_c('superTable',{ref:\"superTable\",attrs:{\"config\":_vm.tableConfig}})],1)])])]),_vm._v(\" \"),_c('superModal',{attrs:{\"config\":_vm.modalConfig}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"portlet-title\"},[_c('div',{staticClass:\"caption\",staticStyle:{\"color\":\"#32c5d2\"}},[_c('i',{staticClass:\"glyphicon glyphicon-user\"}),_vm._v(\" \"),_c('span',[_vm._v(\" 文章图片管理 \")])])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c42e352\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ArticlePictureManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}