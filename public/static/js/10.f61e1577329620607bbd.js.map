{"version":3,"sources":["webpack:///src/components/ArticleReplyManage.vue","webpack:///./src/components/ArticleReplyManage.vue","webpack:///./src/components/ArticleReplyManage.vue?819f"],"names":["ArticleReplyManage","superOperate","superTable","superModal","setTableConfig","setOperateConfig","setModalConfig","getReplyList","_this","this","h","row","deleteArticleReply","tableConfig","commonHandle","modalConfig","i","data","id","formData","then","result","_this2","currentPage","pageSize","rows","totalPages","_this3","checkedData","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","size","_m","config","operateConfig","ref","on","pageChange","staticStyle","color","__webpack_exports__"],"mappings":"8IA+BAA,mBAEA,iCAEAC,eAAA,EACAC,aAAA,EAEAC,aAAA,mGASAC,sBACAC,wBACAC,sBACAC,+DAOA,IAAAC,EAAAC,qDAEA,iBACA,oBAGA,WAEA,iBAEA,cAEA,eAEA,kBAEA,mBAEA,WAEA,gBAEA,aAEA,gBAEA,eAEA,gBAEA,gBAEA,eAEA,cAEA,eAEA,aAEA,aAEA,aAEA,eAEA,gBACA,6BAEA,OAAAC,EACA,cACA,gBACA,qDAEAC,kDAUA,cACA,iBACA,WACA,cAGA,iEAOA,gBACA,mBAGA,kCAGAC,gCAQAC,uEAKA,kBACA,kCAIA,aACA,aAEA,mBAEA,iBACA,iBAEA,mBAEA,cACA,UAEA,mBAEA,cACA,YAEA,mBAEA,cACA,cAEA,mBAEA,aACA,eAEA,mBAEA,aACA,aAEA,mBAEA,WACA,YAEA,mBAEA,aACA,YAGA,qBAEA,aACA,MACA,QACA,UACA,WACA,SACA,QACA,QAGA,uBAEA,sBAGA,aACA,OACA,eACA,8BAGAC,qBAMA,mBAEA,qCASAC,4CAEAC,WAGA,oCAQAP,cACAQ,OACA,SAEA,qCAEAC,iBACAC,GAAAC,KAAA,SAAAC,0BAEA,mBACA,IACAd,0CAMA,IAAAe,EAAAb,qBAEA,oBACA,8CAEAc,iDACAC,cAEA,WAPAJ,KAAA,SAAAC,6BASAI,gDACAC,6CAQA,IAAAC,EAAAlB,oEAEA,4CAOAmB,KAJAR,KAAA,SAAAC,0BAMA,aACAd,iCCvSA,IAEAsB,EAXA,SAAAC,GACAC,EAAA,SAgBAC,EAAAC,OAAAC,EAAA,EAAAD,CACAjC,EClBA,WAA0B,IAAAmC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,KAAyBE,YAAA,oBAA8BL,EAAAM,GAAA,eAAAH,EAAA,MAAAH,EAAAM,GAAA,KAAAH,EAAA,QAAwDI,OAAOC,KAAA,OAAYR,EAAAM,GAAA,qBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAoDE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,YAAsBL,EAAAS,GAAA,GAAAT,EAAAM,GAAA,KAAAH,EAAA,OAAAA,EAAA,gBAAqDI,OAAOG,OAAAV,EAAAW,iBAA4BX,EAAAM,GAAA,KAAAH,EAAA,cAA+BS,IAAA,aAAAL,OAAwBG,OAAAV,EAAAtB,aAAyBmC,IAAKC,WAAAd,EAAA5B,iBAA+B,SAAA4B,EAAAM,GAAA,KAAAH,EAAA,cAAyCI,OAAOG,OAAAV,EAAApB,gBAA0B,KAC7nB,WAAoC,IAAaqB,EAAb3B,KAAa4B,eAA0BC,EAAvC7B,KAAuC8B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,UAAAU,aAAmCC,MAAA,aAAmBb,EAAA,KAAUE,YAAA,6BAAxL/B,KAA+NgC,GAAA,KAAAH,EAAA,QAA/N7B,KAA+NgC,GAAA,qBDQnQ,EAaAZ,EATA,kBAEA,MAYAuB,EAAA,QAAApB,EAAA","file":"static/js/10.f61e1577329620607bbd.js","sourcesContent":["<template>\n    <div>\n        <p class=\"alert top-alert\">管理你的文章回复，蠢货<br />\n            <font size=\"1\">货蠢，回复文章的你理管</font>\n        </p>\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"portlet\">\n                    <div class=\"portlet-title\">\n                        <div class=\"caption\" style=\"color:#32c5d2;\">\n                            <i class=\"glyphicon glyphicon-user\"></i>\n                            <span> 文章回复管理 </span>\n                        </div>\n                    </div>\n                    <div>\n                        <superOperate :config=\"operateConfig\"></superOperate>\n                        <superTable ref=\"superTable\" :config=\"tableConfig\" @pageChange=\"getReplyList\"></superTable>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <superModal :config=\"modalConfig\"></superModal>\n    </div>\n</template>\n\n<script>\nimport superOperate from \"../components/common-component/superOperate.vue\";\nimport superTable from \"../components/common-component/superTable.vue\";\nimport superModal from \"../components/common-component/superModal.vue\";\nimport { articleTypeList } from \"../api/articleType.js\";\n\nexport default {\n    name: 'articleReplyManage',\n    components: {\n        superOperate,\n        superTable,\n        superModal\n    },\n    data(){\n        return {\n            tableConfig : {},\n            operateConfig : {},\n            modalConfig : {}\n        }\n    },\n    mounted(){\n        this.setTableConfig();\n        this.setOperateConfig();\n        this.setModalConfig();\n        this.getReplyList();\n    },\n    computed:{\n\n    },\n    methods : {\n        //  设置超级表格组件配置\n        setTableConfig(){\n            this.tableConfig = {\n                checkbox : true,\n                clickToSelect : true,\n                colOption : [\n                    {\n                        field : \"id\",\n                        label : \"文章回复ID\"\n                    },\n                    {\n                        field : \"floor\",\n                        label : \"所属楼层\"\n                    },\n                    {\n                        field : \"articleId\",\n                        label : \"回复的文章的ID\"\n                    },\n                    {\n                        field : \"ip\",\n                        label : \"回复人IP\"\n                    },\n                    {\n                        field : \"name\",\n                        label : \"回复人名称\"\n                    },\n                    {\n                        field : \"avatar\",\n                        label : \"回复人头像\"\n                    },\n                    {\n                        field : \"content\",\n                        label : \"回复内容\"\n                    },\n                    {\n                        field : \"reply\",\n                        label : \"回复次数\"\n                    },\n                    {\n                        field : \"like\",\n                        label : \"点赞\"\n                    },\n                    {\n                        field : \"show\",\n                        label : \"是否显示\"\n                    },\n                    {\n                        field : \"operate\",\n                        label : \"操作\",\n                        jsxRender: (h, params) =>{\n                            return (\n                                <div>\n                                    <button \n                                        class=\"btn btn-primary\" \n                                        onClick={() => {\n                                            this.openModal(params.row);\n                                        }}\n                                        >编辑</button>\n                                </div>\n                            )\n                        }\n                    }\n                ],\n                data : [],\n                pagination : {\n                    prevText : \"前页\",\n                    nextText : \"后页\",\n                    currentPage : 1,\n                    pageSize : 10,\n                    totalPages : 0\n                }\n            }\n        },\n        //  设置操作区域组件配置\n        setOperateConfig(){\n            this.operateConfig = {\n                list : [\n                    {\n                        type : \"dropdown\",\n                        text : \"删除操作\",\n                        list : [\n                            {\n                                text : \"删除文章回复\",\n                                events : {\n                                    onClick : {\n                                        fn : this.deleteArticleReply,\n                                        params : [this.tableConfig]\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        },\n        //  设置超级模态框组件配置\n        setModalConfig(){\n            this.modalConfig = {\n                title : \"编辑文章回复\",\n                backdrop : \"static\",\n                form : {\n                    config : [\n                        {\n                            labelText : \"所属楼层\",\n                            field : \"floor\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复的文章的ID\",\n                            field : \"articleId\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复人IP\",\n                            field : \"ip\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复人名称\",\n                            field : \"name\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复人头像\",\n                            field : \"avatar\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复内容\",\n                            field : \"content\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"回复次数\",\n                            field : \"reply\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"点赞\",\n                            field : \"like\",\n                            type : \"text\"\n                        },\n                        {\n                            labelText : \"是否显示\",\n                            field : \"show\",\n                            type : \"text\"\n                        }\n                    ],\n                    data : {\n                        floor : \"\",\n                        articleId : \"\",\n                        ip : \"\",\n                        name : \"\",\n                        avatar : \"\",\n                        content : \"\",\n                        reply : \"\",\n                        like : \"\",\n                        show : \"\"\n                    }\n                },\n                footer: {\n                    textalign : \"center\",\n                    btnList : [\n                        {\n                            id : \"edit\",\n                            show : true,\n                            type : \"primary\",\n                            text : \"修改\",\n                            events : {\n                                onClick : {\n                                    fn : this.commonHandle,\n                                    params : [\"edit\"]\n                                }\n                            }\n                        }\n                    ]\n                },\n                show : false\n            }\n        },\n        /**\n         * 打开编辑页面\n         * @param {object} item 行对象\n         */\n        openModal(item){\n\n            const modal = this.modalConfig;\n\n            for(let i in item){\n                (modal.form.data[i] = item[i]);\n            }\n\n            modal.show = true;\n        },\n        /**\n         * 通用操作，处理模态框新增和编辑动作\n         * @param {object} modalConfig 模态框配置\n         * @param {string} type 类型\n         */\n        commonHandle(modalConfig, type){\n            const that = this;\n            const formData = modalConfig.form.data;\n            let method = \"post\"\n            let url = \"reply\";\n\n            type == \"edit\" && (method = \"put\", url += `/${formData.id}`);\n\n            that.$http[method](url, formData)\n                .then( (result) =>{\n                    that.$swal(result.detailMsg, \"\", \"success\");\n                    modalConfig.show = false;\n                    that.getReplyList();\n                });\n\n        },\n        //  获取文章类型列表\n        getReplyList(){\n\n            this.$http({\n                url: 'reply/list',\n                method: 'post',\n                data : {\n                    page : this.tableConfig.pagination.currentPage,\n                    pageSize : this.tableConfig.pagination.pageSize,\n                    type : \"admin\"\n                }\n            }).then((result) =>{\n                    this.tableConfig.data = result.data.rows;\n                    this.tableConfig.pagination.totalPages = result.data.totalPages\n                });\n\n        },\n        /**\n         * 删除文章回复\n         * @param {object} item 组件传回来的我也忘了是啥\n         */\n        deleteArticleReply(item){\n            const checkedData = this.$refs.superTable.checkedData.map((item, index)=>{\n                return item[\"id\"]\n            });\n\n            this.$http.delete(\"article\", {\n                    data : {\n                        arr : checkedData\n                    }\n                })\n                .then( (result) =>{\n                    that.$swal(\"删除文章成功\", \"\", \"success\");\n                    this.getReplyList();\n                });\n                \n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .top-alert {\n        background: #f5f8fd;\n        color: #010407;\n        border-left: 5px solid #8bb4e7;\n    }\n    .portlet{\n        padding: 12px 20px 15px;\n        background-color: #fff;\n        border-radius: 5px;height: 400px;\n    }\n    .portlet .portlet-title{\n        padding: 0;\n        min-height: 48px;\n        border-bottom: 1px solid #eef1f5;\n        margin-bottom: 10px;\n        overflow: hidden;\n    }\n    .portlet .caption{\n        padding: 10px 0;\n        float: left;\n        display: inline-block;\n        font-size: 16px;\n        line-height: 18px;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ArticleReplyManage.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc74d9a\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ArticleReplyManage.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleReplyManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ArticleReplyManage.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-adc74d9a\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ArticleReplyManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-adc74d9a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ArticleReplyManage.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"alert top-alert\"},[_vm._v(\"管理你的文章回复，蠢货\"),_c('br'),_vm._v(\" \"),_c('font',{attrs:{\"size\":\"1\"}},[_vm._v(\"货蠢，回复文章的你理管\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"portlet\"},[_vm._m(0),_vm._v(\" \"),_c('div',[_c('superOperate',{attrs:{\"config\":_vm.operateConfig}}),_vm._v(\" \"),_c('superTable',{ref:\"superTable\",attrs:{\"config\":_vm.tableConfig},on:{\"pageChange\":_vm.getReplyList}})],1)])])]),_vm._v(\" \"),_c('superModal',{attrs:{\"config\":_vm.modalConfig}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"portlet-title\"},[_c('div',{staticClass:\"caption\",staticStyle:{\"color\":\"#32c5d2\"}},[_c('i',{staticClass:\"glyphicon glyphicon-user\"}),_vm._v(\" \"),_c('span',[_vm._v(\" 文章回复管理 \")])])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-adc74d9a\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ArticleReplyManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}