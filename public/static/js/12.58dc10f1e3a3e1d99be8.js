webpackJsonp([12],{HTnC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("LGSi"),n=i("2oyB"),s=(i("jOTz"),{name:"articleManage",components:{superOperate:a.a,superTable:n.a},data:function(){return{tableConfig:{},operateConfig:{}}},mounted:function(){this.setTableConfig(),this.setOperateConfig(),this.getArticleList()},computed:{},methods:{setTableConfig:function(){var t=this;this.$createElement;this.tableConfig={checkbox:!0,clickToSelect:!0,colOption:[{field:"id",label:"文章ID"},{field:"type",label:"文章所属类型"},{field:"title",label:"文章标题"},{field:"bgUrl",label:"背景图片"},{field:"read",label:"阅读量"},{field:"like",label:"点赞"},{field:"operate",label:"操作",jsxRender:function(e,i){return e("div",null,[e("button",{class:"btn btn-primary",on:{click:function(){t.openEdit(i.row,"edit")}}},["编辑"])])}}],data:[],pagination:{prevText:"前页",nextText:"后页",currentPage:1,pageSize:10,totalPages:0}}},setOperateConfig:function(){this.operateConfig={list:[{type:"dropdown",text:"删除操作",list:[{text:"删除文章",events:{onClick:{fn:this.deleteArticle,params:[this.tableConfig]}}}]}]}},openEdit:function(t){this.$router.push({path:"/articleEdit",query:{article:t}})},commonHandle:function(t,e){var i=this,a=t.form.data,n="post",s="articleType";"edit"==e&&(n="put",s+="/"+a.id),i.$http[n](s,a).then(function(e){i.$swal("不知道什么操作成功",e.detailMsg,"success"),t.show=!1,i.getArticleList()})},getArticleList:function(){var t=this;this.$http({url:"article/list",method:"post",data:{page:this.tableConfig.pagination.currentPage,pageSize:this.tableConfig.pagination.pageSize,type:"admin"}}).then(function(e){t.tableConfig.data=e.data.rows,t.tableConfig.pagination.totalPages=e.data.totalPages})},deleteArticle:function(t){var e=this,i=this.$refs.superTable.checkedData.map(function(t,e){return t.id});this.$http.delete("article",{data:{arr:i}}).then(function(t){e.$swal("删除文章成功",t.detailMsg,"success"),e.getArticleList()})}}}),l=i("XyMi");var o=function(t){i("fp7h")},r=Object(l.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"alert top-alert"},[t._v("管理你的文章，蠢货"),i("br"),t._v(" "),i("font",{attrs:{size:"1"}},[t._v("货蠢，类分章文的你理管")])],1),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"portlet"},[t._m(0),t._v(" "),i("div",[i("superOperate",{attrs:{config:t.operateConfig}}),t._v(" "),i("superTable",{ref:"superTable",attrs:{config:t.tableConfig},on:{pageChange:t.getArticleList}})],1)])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"portlet-title"},[e("div",{staticClass:"caption",staticStyle:{color:"#32c5d2"}},[e("i",{staticClass:"glyphicon glyphicon-user"}),this._v(" "),e("span",[this._v(" 文章管理 ")])])])}],!1,o,"data-v-32dac444",null);e.default=r.exports},fp7h:function(t,e){}});
//# sourceMappingURL=12.58dc10f1e3a3e1d99be8.js.map