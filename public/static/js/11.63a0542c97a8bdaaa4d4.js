webpackJsonp([11],{VUZa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("LGSi"),n=a("2oyB"),o=a("SlfL"),s=(a("jOTz"),{name:"articlePictureManage",components:{superOperate:i.a,superTable:n.a,superModal:o.a},data:function(){return{tableConfig:{},operateConfig:{},modalConfig:{}}},mounted:function(){this.setTableConfig(),this.setOperateConfig(),this.setModalConfig(),this.getArticleTypeList()},computed:{},methods:{setTableConfig:function(){var t=this;this.$createElement;this.tableConfig={checkbox:!0,clickToSelect:!0,colOption:[{field:"id",label:"图片ID"},{field:"articleId",label:"图片所属文章id"},{field:"path",label:"图片路径"},{field:"type",label:"图片类型"},{field:"operate",label:"操作",jsxRender:function(e,a){return e("div",null,[e("button",{class:"btn btn-primary",on:{click:function(){t.openModal(a.row,"edit")}}},["编辑"])])}}],data:[],pagination:{prevText:"前页",nextText:"后页",currentPage:1,pageSize:10,totalPages:0}}},setOperateConfig:function(){this.operateConfig={list:[{type:"button",text:"新增图片",events:{onClick:{fn:this.openModal,params:["add"]}}},{type:"dropdown",text:"删除操作",list:[{text:"删除图片",events:{onClick:{fn:this.deletePicture,params:[this.tableConfig]}}}]}]}},setModalConfig:function(){this.modalConfig={title:"添加分类",backdrop:"static",form:{config:[{labelText:"分类名称",field:"name",type:"text"}],data:{name:""}},footer:{textalign:"center",btnList:[{id:"add",show:!0,type:"primary",text:"新增",events:{onClick:{fn:this.commonHandle,params:["add"]}}},{id:"edit",show:!0,type:"primary",text:"修改",events:{onClick:{fn:this.commonHandle,params:["edit"]}}}]},show:!1}},openModal:function(t,e){var a=this.modalConfig,i=a.footer;if("edit"==e)for(var n in t)a.form.data[n]=t[n];else for(var o in a.form.data)a.form.data[o]="";i.btnList.forEach(function(t,a){t.id==e?t.show=!0:t.show=!1}),a.show=!0},commonHandle:function(t,e){var a=this,i=t.form.data,n="post",o="articleType";"edit"==e&&(n="put",o+="/"+i.id),a.$http[n](o,i).then(function(e){a.$swal("",e.detailMsg,"success"),t.show=!1,a.getArticleTypeList()})},getArticleTypeList:function(){var t=this;this.$http({url:"articlePicture/list",method:"post",data:{page:this.tableConfig.pagination.currentPage,pageSize:this.tableConfig.pagination.pageSize}}).then(function(e){t.tableConfig.data=e.data.rows,t.tableConfig.pagination.totalPages=e.data.totalPages})},deletePicture:function(t){var e=this,a=this.$refs.superTable.checkedData.map(function(t,e){return t.id});this.$http.delete("articlePicture",{data:{arr:a}}).then(function(t){e.$swal("删除文章图片成功","","success"),e.getArticleTypeList()})}}}),l=a("XyMi");var r=function(t){a("r/wc")},c=Object(l.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"alert top-alert"},[t._v("管理你的文章分类，蠢货"),a("br"),t._v(" "),a("font",{attrs:{size:"1"}},[t._v("货蠢，类分章文的你理管")])],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"portlet"},[t._m(0),t._v(" "),a("div",[a("superOperate",{attrs:{config:t.operateConfig}}),t._v(" "),a("superTable",{ref:"superTable",attrs:{config:t.tableConfig}})],1)])])]),t._v(" "),a("superModal",{attrs:{config:t.modalConfig}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"portlet-title"},[e("div",{staticClass:"caption",staticStyle:{color:"#32c5d2"}},[e("i",{staticClass:"glyphicon glyphicon-user"}),this._v(" "),e("span",[this._v(" 文章图片管理 ")])])])}],!1,r,"data-v-4c42e352",null);e.default=c.exports},"r/wc":function(t,e){}});
//# sourceMappingURL=11.63a0542c97a8bdaaa4d4.js.map